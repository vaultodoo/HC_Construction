<?xml version="1.0" encoding="UTF-8" ?>
<odoo>
    <template id="proforma_invoice_report_template">
        <t t-call="web.html_container">
            <t t-foreach="docs" t-as="o">
                <div class="page">
                    <table class="header">
                        <tr>
                            <td style="width:40%;">
                                <img t-if="o.company_id.logo" t-att-src="image_data_uri(o.company_id.logo)" style="padding: 0; margin-top:60px;height:80px;width:100px;" alt="Company Logo"/>
                            </td>
                            <td style="width:20%;"></td>
                            <td style="width:40%;font-size:18px;">
                                <div>
                                    <span t-field="o.company_id.name"/>
                                    <t t-if="o.company_id.street">
                                        <br/><span t-field="o.company_id.street"/><br/>
                                    </t>
                                    <t t-if="o.company_id.street2">
                                        <span t-field="o.company_id.street2"/>,
                                    </t>
                                    <t t-if="o.company_id.city">
                                        <span t-field="o.company_id.city"/>,
                                    </t>
                                    <span t-if="o.company_id.state_id" t-field="o.company_id.state_id"/>
                                    <span t-if="o.company_id.country_id" t-field="o.company_id.country_id.name"/>
                                    <br/>
                                    <span t-if="o.company_id.phone">
                                        <i class="fa fa-phone"/>
                                        <span t-field="o.company_id.phone"/>
                                    </span><br/>

                                    <span>
                                        <div t-if="o.company_id.email">
                                            <i class="fa fa-envelope"/>
                                            <span t-field="o.company_id.email"/>
                                        </div>
                                    </span>
                                    <span>
                                        <div t-if="o.company_id.website">
                                            <i class="fa fa-globe"/>
                                            <span t-field="o.company_id.website"/>
                                        </div>
                                    </span>
                                    <br/>
                                </div>
                            </td>
                        </tr>
                    </table>

                    <h1 style="text-align:center;">PRO-FORMA INVOICE</h1>

                    <table style="width:100%;border:1px solid black;padding:20px 20px;font-size:16px;">
                        <tr>
                            <td><b>Customer Name &amp; Address:</b></td>
                            <td style="width:25%;"></td>
                            <td><b>Invoice No:</b></td>
                            <td style="width:25%;"><span t-field="o.name"/> </td>

                        </tr>
                        <tr>
                            <td><strong><i><span t-field="o.partner_id.name"/></i></strong><br/>
                                <span t-field="o.partner_id.street" />, <span t-field="o.partner_id.street2"/><br/>
                                <span t-field="o.partner_id.city"/>, <span t-field="o.partner_id.zip"/><br/>
                                Ph:<span t-field="o.partner_id.phone"/>
                            </td>
                            <td style="width:25%;"></td>
                            <td style="width:25%;"></td>
                            <td style="width:25%;"></td>

                        </tr>
                        <br/>
                        <tr>
                            <td><b>Job Card No:</b></td>
                            <td style="width:25%;"><span t-field="o.project_id.job_order"/> </td>
                            <td><b>Date:</b></td>
                            <td style="width:25%;"><span t-esc="time.strftime('%d-%m-%Y')"/> </td>

                        </tr>
                        <br/>

                        <tr>
                            <td><b>Place Of Supply:</b></td>
                            <td style="width:25%;"><span t-field="o.project_id.name"/> </td>
                            <td></td>
                            <td></td>

                        </tr>
                    </table>
                    <br/>
                    <table style="border: 1px solid black;border-collapse: collapse; width:100%;font-size:16px;">
                        <tr>
                            <th style="width:50%;border: 1px solid black;">Description</th>
                            <th style="width:50%;border: 1px solid black;">Amount</th>
                        </tr>
                    </table>
                    <table style="border: 1px solid black;height:250px;border-collapse: collapse; width:100%;font-size:16px;">
                        <tr>
                            <td style="width:50%;border: 1px solid black;text-align:center;padding-top:10px;"><span t-field="o.description"/> </td>
                            <td style="width:50%;border: 1px solid black;text-align:center;padding-top:10px;"><span t-field="o.final_amount"/> </td>
                        </tr>
                    </table>

                    <br/>


                    <table style="width:100%;font-size:18px;">
                        <tr>
                            <td style="text-align:right;"><strong>Tax Excluded</strong></td>
                            <td style="text-align:right;">
                                <span t-field="o.tax_excluded"/>
                            </td>
                        </tr>
                        <tr>
                            <td style="text-align:right;"><strong>Taxes</strong></td>
                            <td style="text-align:right;">
                                <span t-field="o.tax_amount" />
                            </td>

                        </tr>
                        <tr>
                            <td style="text-align:right;"><strong>Final Amount</strong></td>
                            <td style="text-align:right;">
                                <span t-field="o.tax_included" />
                            </td>
                        </tr>

                    </table>

                    <div style="position:fixed;top:1050px;width:100%;display:block;margin:0 auto;margin-left:-8px;">
                        <strong><u>TERMS &amp; Conditions</u></strong><br/><br/>
                        <span style="padding:60px 60px;">1.Company accepts no responsibility for money paid against this invoice unless evidenced by official receipt </span><br/>
                        <span style="padding:65px 65px;">of the Company.</span><br/><br/>
                        <span style="padding:60px 60px;">2.This Invoice amount to be paid in full due to submission to FTA</span>
                        <br/>
                        <br/>
                        <table style="width:100%;">
                            <tr style="width:100%;">
                                <td style="width:50%;margin-left:50px;"><strong> Customer's Signature</strong></td>
                                <td style="width:50%;text-align:right;"><strong> For  <span t-field="o.company_id.name"/></strong></td>
                            </tr>
                        </table>

                    </div>
                </div>
            </t>
        </t>

    </template>

    <record id="proforma_paper_format" model="report.paperformat">
        <field name="name">European A4</field>
        <field name="default" eval="True"/>
        <field name="format">A4</field>
        <field name="page_height">0</field>
        <field name="page_width">0</field>
        <field name="orientation">Portrait</field>
        <field name="margin_top">5</field>
        <field name="margin_bottom">5</field>
        <field name="margin_left">10</field>
        <field name="margin_right">10</field>
        <field name="header_line" eval="False"/>
        <field name="header_spacing">50</field>
        <field name="dpi">90</field>
    </record>

    <report
            string="Proforma Invoice"
            id="action_proforma_invoice_report"
            model="proforma.invoice"
            name="construction_management_app.proforma_invoice_report_template"
            file="construction_management_app.proforma_invoice_report_template"
            report_type="qweb-pdf"
            paperformat="construction_management_app.proforma_paper_format"/>

</odoo>